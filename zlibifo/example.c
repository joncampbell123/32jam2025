/* example.c -- usage example of the zlib compression library
 * Copyright (C) 1995-2006 Jean-loup Gailly.
 * For conditions of distribution and use, see copyright notice in zlib.h
 */

/* @(#) $Id$ */

#if defined(_WINDOWS) || defined(WIN32) || defined(WIN386)
#include <windows.h>
#endif

#include "zlib.h"
#include <stdio.h>
#include <stdint.h>

#ifndef O_BINARY
#define O_BINARY (0)
#endif

#ifdef STDC
#  include <string.h>
#  include <stdlib.h>
#endif

#if TARGET_MSDOS == 16 && (defined(__SMALL__) || defined(__MEDIUM__))
# include <dos.h>
# include <i86.h>
#endif

/* string, len, adler32 init, crc32 init, adler32 final, crc32 final */
struct chksumtest_t {
	char*		txt;
	unsigned short	len;
	uint32_t	adler32_init;
	uint32_t	crc32_init;
	uint32_t	adler32_final;
	uint32_t	crc32_final;
};

#if defined(_WINDOWS) || defined(WIN32) || defined(WIN386)
#define CHECK_ERR(err, msg) { \
    if (err != Z_OK) { \
        char tmp[256]; \
        snprintf(tmp, sizeof(tmp), "%s error: %d\n", msg, err); \
        MessageBox((HWND)NULL,tmp,"ERROR:",MB_OK); \
        exit(1); \
    } \
}

// NTS: Prior code had separate code for fprintf and printf, and for whatever reason. that
//      triggered something in Open Watcom and/or real-mode Windows to screw up the data
//      segment value (DS) with a small offset like 10, 17, or 36 which of course causes
//      this program to crash.
//
//      Removing __my_fprintf() and mapping both macros to __my_printf(), for whatever
//      mysterious magic reason, fixes the DS offset and then allows this program to work.
#define fprintf(dummy,...) __my_printf(__VA_ARGS__)
#define printf __my_printf

#include <stdarg.h>

void __my_printf(const char *fmt,...) {
	char tmp[256];
	va_list va;

	va_start(va, fmt);
	vsnprintf(tmp, sizeof(tmp), fmt, va);
	MessageBox((HWND)NULL,tmp,"",MB_OK);
	va_end(va);
}

#else
#define CHECK_ERR(err, msg) { \
    if (err != Z_OK) { \
        fprintf(stderr, "%s error: %d\n", msg, err); \
        exit(1); \
    } \
}
#endif

const char hello[] = "hello, hello!";
/* "hello world" would be more standard, but the repeated "hello"
 * stresses the compression code better, sorry...
 */

int  main               OF((int argc, char *argv[]));

const struct chksumtest_t chktest[] = {
{"",0,0x00000001,0x00000000,0x00000001,0x00000000},
{"test",4,0x00000001,0x00000000,0x045d01c1,0xd87f7e0c},
{"testing123",10,0x00000001,0x00000000,0x16450395,0xe82509f0},
{"iuqwpoiuirhjke-09328-0q8ewaf987ad098f7sad9f8puahpwrouae8n7fg37r098w7r98we7rf098we7r098we7~0fd~~sdf~~sf~sa~d~~sad~~sad~7wuiqoueyuwidyqwuioryqwouifdqowuiryqw8e79qw8e",163,0x00000001,0x00000000,0xa9423d0f,0x4b87f53e},
{NULL}
};


static const unsigned char inft1_zlib[1246] = {
/*0000*/ 0x78,0xDA,0x8D,0x56,0xDF,0x4F,0xE4,0x36,0x10,0x7E,0xE7,0xAF,0x98,0x5E,0x5F,0x80,
/*0016*/ 0x2E,0xCB,0x2E,0x05,0x74,0x1C,0xEA,0x03,0xE5,0xE0,0x8A,0xC4,0x81,0x04,0x54,0x95,
/*0032*/ 0xEE,0x05,0x39,0x89,0xB3,0x71,0xC9,0xDA,0xA9,0xED,0x00,0x7B,0x55,0xFF,0xF7,0x7E,
/*0048*/ 0x1E,0xDB,0xD9,0x65,0x81,0xAA,0x79,0x80,0xAC,0x3D,0xF3,0xCD,0xCC,0x37,0xBF,0xB2,
/*0064*/ 0xBB,0x4D,0x4A,0xD7,0xDE,0x4A,0xE9,0xC6,0x0D,0xED,0xEC,0x50,0x23,0x45,0x25,0x2D,
/*0080*/ 0x79,0x43,0xBD,0x93,0xCB,0xBB,0x72,0x83,0xB6,0xE9,0xD4,0x74,0x0B,0xAB,0x66,0x8D,
/*0096*/ 0xA7,0xCD,0xD3,0x2D,0x9A,0x1E,0x1D,0x1D,0xEC,0xEC,0x4D,0x26,0x07,0x23,0xDA,0x9B,
/*0112*/ 0x4C,0x27,0xF4,0x55,0xD8,0x07,0x3A,0xA9,0x5A,0x69,0x83,0xEC,0xB9,0xB1,0x54,0x1A,
/*0128*/ 0x5D,0x29,0xAF,0x8C,0x76,0x64,0x6A,0xAA,0x94,0xF3,0x56,0x15,0x7D,0x38,0x20,0xA1,
/*0144*/ 0xAB,0x60,0x60,0x44,0x4E,0x4A,0xC8,0x65,0x5C,0x6D,0xBC,0x2A,0x83,0x59,0xFA,0xDE,
/*0160*/ 0xAA,0x62,0xDC,0x00,0x69,0x77,0x63,0x63,0x77,0x9B,0xFE,0x38,0xB9,0xB9,0xBA,0xB8,
/*0176*/ 0xFA,0xF2,0x89,0x7C,0xA3,0x1C,0xD5,0xAA,0x95,0xE4,0x1A,0xD3,0xB7,0x15,0x6D,0x43,
/*0192*/ 0x67,0x9B,0x0A,0x19,0xE0,0x2A,0x2A,0x16,0x24,0xBA,0xAE,0x55,0xA5,0x60,0xBB,0x63,
/*0208*/ 0xBA,0xF0,0xA4,0xDC,0x06,0x11,0x75,0xC2,0xFA,0xE0,0x86,0x6F,0x80,0x3F,0xEF,0x5A,
/*0224*/ 0x39,0x97,0xDA,0xB3,0x54,0x3E,0x2D,0xCD,0xBC,0xB3,0xD2,0xB9,0x70,0x04,0xEB,0x56,
/*0240*/ 0xD8,0x05,0xFB,0x19,0xF5,0x5D,0x5F,0xFC,0x29,0x4B,0x1F,0x98,0x29,0x1B,0xA1,0x67,
/*0256*/ 0x72,0x4C,0x27,0x2B,0x96,0xB2,0x3B,0x46,0xB7,0x0B,0xA6,0x2E,0x06,0x30,0x1E,0x22,
/*0272*/ 0xB8,0xF5,0xB6,0x2F,0x7D,0x6F,0x25,0xD5,0xA0,0xA6,0x92,0xA5,0xA9,0x94,0x9E,0x91,
/*0288*/ 0x17,0x45,0x0B,0x7E,0x89,0xCE,0x44,0xD9,0x10,0x5C,0x82,0xD1,0xCE,0x9A,0x47,0x55,
/*0304*/ 0x49,0x47,0x52,0xC1,0x2F,0x1B,0x9C,0x0B,0x1E,0x20,0x19,0xC6,0xCE,0xA3,0xCB,0x5A,
/*0320*/ 0xCA,0x0A,0xE1,0xC2,0x99,0xCA,0xB0,0xF3,0xA6,0x93,0x36,0x5E,0x59,0xF9,0x57,0x2F,
/*0336*/ 0x9D,0x8F,0x64,0xC4,0xB8,0x2A,0x89,0x17,0xE1,0x23,0x48,0x25,0x9F,0x83,0x26,0x7E,
/*0352*/ 0x47,0xE3,0xD1,0xE8,0x88,0xE0,0x95,0xF2,0x4B,0xDB,0x82,0x3A,0xA3,0xB4,0x8F,0xB5,
/*0368*/ 0x20,0x40,0x72,0x13,0x12,0x4B,0x49,0x87,0xD5,0x23,0x96,0xA3,0xB9,0x41,0x54,0x85,
/*0384*/ 0xF2,0x6E,0xC9,0x64,0x05,0x7A,0xE0,0x53,0x10,0x09,0x0C,0x41,0xE8,0xA9,0x91,0x03,
/*0400*/ 0x44,0x93,0x8C,0x82,0xDA,0x37,0xED,0x44,0x23,0x23,0xDC,0xB5,0x0A,0x37,0xA2,0xE5,
/*0416*/ 0x57,0xA9,0x67,0xBE,0x81,0x9B,0x01,0x22,0x14,0x93,0xD0,0x65,0x90,0xD1,0xC0,0xAA,
/*0432*/ 0x76,0x4C,0xBD,0x53,0xB4,0xA6,0x7C,0xE0,0x38,0x70,0xA6,0xF4,0xA3,0x68,0x55,0x95,
/*0448*/ 0x5D,0x09,0xE5,0x28,0x22,0x2C,0x17,0x43,0x34,0x39,0x62,0x57,0x5A,0xF3,0x84,0x9C,
/*0464*/ 0xF4,0x76,0x08,0x21,0xF8,0xED,0xF8,0x4A,0xF7,0xF3,0x02,0xEE,0xE0,0x8C,0x63,0xCD,
/*0480*/ 0x12,0x31,0x88,0x4C,0xE0,0x00,0x3F,0x78,0xB8,0xE2,0xDE,0x3B,0x06,0x38,0x15,0xEB,
/*0496*/ 0x36,0xE4,0xB3,0xB7,0x22,0x0A,0x81,0x8B,0x99,0xF4,0x24,0x6A,0x1F,0xF3,0x9F,0xE3,
/*0512*/ 0xE0,0xCB,0x58,0x90,0x2F,0x75,0xE3,0x85,0x8E,0xFD,0xC1,0x19,0x87,0x1B,0xAB,0x35,
/*0528*/ 0x1F,0xAB,0x00,0xF5,0x62,0x11,0x9E,0xA9,0x39,0x86,0x74,0x05,0x5D,0x2A,0xFA,0xBA,
/*0544*/ 0x96,0x16,0x16,0x40,0x5B,0xF6,0x4C,0xA0,0x5E,0xF1,0xAB,0x58,0x78,0xD6,0x34,0xBD,
/*0560*/ 0xEF,0x7A,0x1F,0x8D,0x00,0x4F,0x38,0x99,0x30,0x56,0xD2,0xC4,0x70,0xB8,0x79,0x93,
/*0576*/ 0x0B,0x13,0x43,0x81,0x71,0x87,0xD8,0x6A,0x6B,0xE6,0x39,0x8E,0xB2,0xB7,0x16,0x15,
/*0592*/ 0x91,0x8B,0x2B,0x96,0xB4,0x06,0x1F,0x03,0xC3,0x2B,0xED,0x11,0x06,0x00,0xB3,0x09,
/*0608*/ 0xBF,0xD0,0x39,0xE8,0x2F,0xBF,0xE8,0xD0,0x0E,0x35,0x39,0xEE,0x31,0xFA,0x3B,0xC0,
/*0624*/ 0x52,0xAF,0x9D,0x9A,0x69,0x94,0x3A,0xDA,0x15,0x14,0x75,0xC7,0xB4,0x7C,0xD0,0x8F,
/*0640*/ 0x43,0xC3,0x8C,0x56,0x78,0x1F,0x25,0x0F,0x98,0x4D,0x00,0xBF,0xC6,0x09,0x37,0xC7,
/*0656*/ 0xAB,0x38,0x2F,0x88,0x7F,0x45,0xF8,0x3A,0x06,0xA6,0x04,0x24,0xC0,0xF1,0x0B,0x8C,
/*0672*/ 0xC4,0x48,0x40,0x61,0xF3,0x3C,0x3B,0xA1,0x0D,0xB9,0x9E,0x31,0xFE,0xE1,0xDF,0xC7,
/*0688*/ 0x3C,0x48,0x90,0x3E,0x3E,0x47,0xEB,0x60,0xEA,0x40,0x0D,0x6D,0x8E,0xD1,0xD0,0xA2,
/*0704*/ 0xCB,0xEE,0x59,0x7D,0x73,0xEB,0x13,0x1B,0x9D,0xA4,0x87,0x76,0x72,0x7E,0x86,0x63,
/*0720*/ 0x8F,0x07,0xC7,0xD1,0x5A,0xAB,0x34,0xDA,0x86,0x8F,0x7E,0xF8,0x85,0x26,0xAF,0xEB,
/*0736*/ 0x32,0x8A,0x2D,0x3B,0x20,0xC3,0x4C,0x25,0x9E,0x80,0xFE,0x46,0xAE,0xF9,0xEA,0x3F,
/*0752*/ 0x2A,0x3C,0x62,0x4C,0xA7,0xD9,0x43,0xF4,0x30,0x97,0x71,0xE8,0xE1,0x74,0x37,0x78,
/*0768*/ 0xBF,0xDA,0xCB,0xC3,0x3C,0xFD,0x2A,0x9E,0xD5,0xBC,0x9F,0x93,0x53,0xDF,0x65,0xA6,
/*0784*/ 0xBC,0x5A,0x68,0x31,0x57,0xE5,0x50,0x34,0x77,0x38,0x9B,0x27,0xB9,0xA5,0x13,0x4C,
/*0800*/ 0xAD,0xCB,0xE3,0x38,0xB7,0xD3,0x74,0x7F,0x7F,0x7F,0x84,0x29,0xA5,0x50,0x67,0xC9,
/*0816*/ 0x6F,0x07,0x35,0xC8,0x7F,0x3C,0xD8,0xE3,0x99,0x9D,0x48,0xDC,0x4D,0xE1,0x06,0x18,
/*0832*/ 0xC7,0x0B,0xE2,0xE0,0x28,0x0A,0xE4,0xE8,0x03,0x1C,0xDF,0x46,0x17,0x9C,0xCC,0x09,
/*0848*/ 0x7B,0x92,0x3C,0xFE,0x7B,0xCD,0xB3,0x59,0x3E,0x37,0xA2,0x77,0x5E,0x3D,0xC2,0x92,
/*0864*/ 0x14,0xB6,0x84,0x24,0x36,0x07,0x2F,0x05,0x18,0xC7,0x20,0x9E,0x59,0xC1,0x1D,0x22,
/*0880*/ 0x9F,0x45,0x58,0x58,0x6E,0x57,0x6A,0xD3,0xCF,0x9A,0x71,0x99,0x30,0x52,0x27,0x86,
/*0896*/ 0x4D,0x93,0xB7,0xAB,0xE7,0xF5,0x9A,0x42,0x17,0x76,0xD6,0x87,0x2D,0xE7,0x62,0x47,
/*0912*/ 0xC5,0x05,0x90,0x70,0x71,0x29,0xD7,0x92,0xE3,0x16,0xF3,0xC2,0xB4,0x2E,0x36,0xB1,
/*0928*/ 0xD2,0xD8,0xDC,0x68,0x7E,0x6B,0x4C,0x6E,0xCB,0xC0,0xF4,0x88,0x03,0x4E,0x0B,0x29,
/*0944*/ 0x53,0x1B,0xE6,0x47,0xAE,0x81,0x30,0x0D,0xD2,0xAC,0xFA,0x10,0xDD,0xA5,0xBD,0x8F,
/*0960*/ 0x87,0x74,0x44,0xD3,0x83,0x0F,0xEF,0xB2,0x18,0xC0,0xAC,0x44,0x36,0xB0,0x47,0xF3,
/*0976*/ 0x7F,0xB0,0x1E,0x8D,0x65,0x98,0x9F,0x27,0x74,0x38,0xA0,0x64,0xAA,0x53,0x16,0xB2,
/*0992*/ 0x12,0x32,0x31,0x0E,0x60,0x77,0xEF,0x47,0x40,0x9B,0x47,0xA1,0x52,0x0F,0xB7,0xD2,
/*1008*/ 0x1C,0x59,0xF2,0x58,0xAB,0x1A,0x0E,0x65,0xD2,0x52,0x4D,0xA5,0xC5,0xBB,0xDA,0x5D,
/*1024*/ 0x18,0x7D,0x6D,0xCB,0x3D,0x9F,0x2E,0x90,0x10,0xFE,0x4E,0xD0,0x75,0x21,0xCA,0x87,
/*1040*/ 0x71,0x89,0xD8,0x2F,0x62,0x41,0xAE,0xDB,0x8E,0xA5,0x16,0xBF,0x1F,0x2A,0x26,0x9A,
/*1056*/ 0x4D,0xBB,0x65,0x99,0x06,0x31,0x14,0x0A,0x7F,0x4B,0x14,0x92,0xF7,0x7C,0xC8,0x1E,
/*1072*/ 0x5E,0xAD,0x84,0xDD,0xB2,0x0F,0x06,0xAB,0x60,0x2F,0x20,0xF5,0x5D,0x15,0x7E,0xF2,
/*1088*/ 0x10,0xFC,0x11,0x13,0x50,0x69,0x49,0x67,0x57,0xD7,0xBF,0x7F,0xF9,0xED,0xFE,0xF2,
/*1104*/ 0xEC,0xEA,0x36,0x90,0xB8,0x7E,0xFE,0xF9,0xE2,0xF6,0xEE,0x36,0x10,0xB5,0x76,0x41,
/*1120*/ 0x9B,0x2B,0x8A,0x3F,0xAD,0x0A,0x6F,0x71,0xBF,0xDD,0x61,0xC6,0x0E,0xDD,0x13,0x3C,
/*1136*/ 0xEA,0x15,0x5C,0x0C,0xB9,0x58,0xA7,0x67,0x65,0x20,0x4B,0x54,0x57,0x1A,0xC7,0xA7,
/*1152*/ 0xD7,0x9F,0xCF,0x6E,0x47,0xFC,0x1A,0x2C,0xC4,0x37,0xC6,0x4F,0xD3,0x2D,0xE8,0x60,
/*1168*/ 0xC2,0x61,0x31,0xD3,0xB7,0xCB,0x8B,0x5F,0xEF,0x2F,0xAE,0xEE,0xCE,0x6E,0xAE,0x4E,
/*1184*/ 0x2E,0x5F,0xE2,0xD3,0xF5,0xF9,0xE6,0x66,0x16,0xA7,0xF0,0x67,0xB4,0x3E,0x5D,0xBF,
/*1200*/ 0x9D,0x9F,0xDC,0xD0,0x36,0xEA,0xCB,0x45,0x23,0xEF,0x3E,0xCB,0xC9,0x1E,0x8A,0x68,
/*1216*/ 0x14,0x43,0x8B,0xDA,0xE9,0x5F,0xFC,0x0E,0xF9,0x9F,0x28,0x51,0x25,0xAE,0x91,0x37,
/*1232*/ 0x5D,0x7A,0x32,0xF6,0x61,0x6B,0xEB,0x78,0xE3,0x5F,0x4E,0xCB,0xB6,0x53
};

static const unsigned char inft1_orig[2933] = {
/*0000*/ 0x2F,0x2A,0x20,0x69,0x6E,0x66,0x74,0x72,0x65,0x65,0x73,0x2E,0x68,0x20,0x2D,0x2D,
/*0016*/ 0x20,0x68,0x65,0x61,0x64,0x65,0x72,0x20,0x74,0x6F,0x20,0x75,0x73,0x65,0x20,0x69,
/*0032*/ 0x6E,0x66,0x74,0x72,0x65,0x65,0x73,0x2E,0x63,0x0A,0x20,0x2A,0x20,0x43,0x6F,0x70,
/*0048*/ 0x79,0x72,0x69,0x67,0x68,0x74,0x20,0x28,0x43,0x29,0x20,0x31,0x39,0x39,0x35,0x2D,
/*0064*/ 0x32,0x30,0x30,0x35,0x2C,0x20,0x32,0x30,0x31,0x30,0x20,0x4D,0x61,0x72,0x6B,0x20,
/*0080*/ 0x41,0x64,0x6C,0x65,0x72,0x0A,0x20,0x2A,0x20,0x46,0x6F,0x72,0x20,0x63,0x6F,0x6E,
/*0096*/ 0x64,0x69,0x74,0x69,0x6F,0x6E,0x73,0x20,0x6F,0x66,0x20,0x64,0x69,0x73,0x74,0x72,
/*0112*/ 0x69,0x62,0x75,0x74,0x69,0x6F,0x6E,0x20,0x61,0x6E,0x64,0x20,0x75,0x73,0x65,0x2C,
/*0128*/ 0x20,0x73,0x65,0x65,0x20,0x63,0x6F,0x70,0x79,0x72,0x69,0x67,0x68,0x74,0x20,0x6E,
/*0144*/ 0x6F,0x74,0x69,0x63,0x65,0x20,0x69,0x6E,0x20,0x7A,0x6C,0x69,0x62,0x2E,0x68,0x0A,
/*0160*/ 0x20,0x2A,0x2F,0x0A,0x0A,0x2F,0x2A,0x20,0x57,0x41,0x52,0x4E,0x49,0x4E,0x47,0x3A,
/*0176*/ 0x20,0x74,0x68,0x69,0x73,0x20,0x66,0x69,0x6C,0x65,0x20,0x73,0x68,0x6F,0x75,0x6C,
/*0192*/ 0x64,0x20,0x2A,0x6E,0x6F,0x74,0x2A,0x20,0x62,0x65,0x20,0x75,0x73,0x65,0x64,0x20,
/*0208*/ 0x62,0x79,0x20,0x61,0x70,0x70,0x6C,0x69,0x63,0x61,0x74,0x69,0x6F,0x6E,0x73,0x2E,
/*0224*/ 0x20,0x49,0x74,0x20,0x69,0x73,0x0A,0x20,0x20,0x20,0x70,0x61,0x72,0x74,0x20,0x6F,
/*0240*/ 0x66,0x20,0x74,0x68,0x65,0x20,0x69,0x6D,0x70,0x6C,0x65,0x6D,0x65,0x6E,0x74,0x61,
/*0256*/ 0x74,0x69,0x6F,0x6E,0x20,0x6F,0x66,0x20,0x74,0x68,0x65,0x20,0x63,0x6F,0x6D,0x70,
/*0272*/ 0x72,0x65,0x73,0x73,0x69,0x6F,0x6E,0x20,0x6C,0x69,0x62,0x72,0x61,0x72,0x79,0x20,
/*0288*/ 0x61,0x6E,0x64,0x20,0x69,0x73,0x0A,0x20,0x20,0x20,0x73,0x75,0x62,0x6A,0x65,0x63,
/*0304*/ 0x74,0x20,0x74,0x6F,0x20,0x63,0x68,0x61,0x6E,0x67,0x65,0x2E,0x20,0x41,0x70,0x70,
/*0320*/ 0x6C,0x69,0x63,0x61,0x74,0x69,0x6F,0x6E,0x73,0x20,0x73,0x68,0x6F,0x75,0x6C,0x64,
/*0336*/ 0x20,0x6F,0x6E,0x6C,0x79,0x20,0x75,0x73,0x65,0x20,0x7A,0x6C,0x69,0x62,0x2E,0x68,
/*0352*/ 0x2E,0x0A,0x20,0x2A,0x2F,0x0A,0x0A,0x2F,0x2A,0x20,0x53,0x74,0x72,0x75,0x63,0x74,
/*0368*/ 0x75,0x72,0x65,0x20,0x66,0x6F,0x72,0x20,0x64,0x65,0x63,0x6F,0x64,0x69,0x6E,0x67,
/*0384*/ 0x20,0x74,0x61,0x62,0x6C,0x65,0x73,0x2E,0x20,0x20,0x45,0x61,0x63,0x68,0x20,0x65,
/*0400*/ 0x6E,0x74,0x72,0x79,0x20,0x70,0x72,0x6F,0x76,0x69,0x64,0x65,0x73,0x20,0x65,0x69,
/*0416*/ 0x74,0x68,0x65,0x72,0x20,0x74,0x68,0x65,0x0A,0x20,0x20,0x20,0x69,0x6E,0x66,0x6F,
/*0432*/ 0x72,0x6D,0x61,0x74,0x69,0x6F,0x6E,0x20,0x6E,0x65,0x65,0x64,0x65,0x64,0x20,0x74,
/*0448*/ 0x6F,0x20,0x64,0x6F,0x20,0x74,0x68,0x65,0x20,0x6F,0x70,0x65,0x72,0x61,0x74,0x69,
/*0464*/ 0x6F,0x6E,0x20,0x72,0x65,0x71,0x75,0x65,0x73,0x74,0x65,0x64,0x20,0x62,0x79,0x20,
/*0480*/ 0x74,0x68,0x65,0x20,0x63,0x6F,0x64,0x65,0x20,0x74,0x68,0x61,0x74,0x0A,0x20,0x20,
/*0496*/ 0x20,0x69,0x6E,0x64,0x65,0x78,0x65,0x64,0x20,0x74,0x68,0x61,0x74,0x20,0x74,0x61,
/*0512*/ 0x62,0x6C,0x65,0x20,0x65,0x6E,0x74,0x72,0x79,0x2C,0x20,0x6F,0x72,0x20,0x69,0x74,
/*0528*/ 0x20,0x70,0x72,0x6F,0x76,0x69,0x64,0x65,0x73,0x20,0x61,0x20,0x70,0x6F,0x69,0x6E,
/*0544*/ 0x74,0x65,0x72,0x20,0x74,0x6F,0x20,0x61,0x6E,0x6F,0x74,0x68,0x65,0x72,0x0A,0x20,
/*0560*/ 0x20,0x20,0x74,0x61,0x62,0x6C,0x65,0x20,0x74,0x68,0x61,0x74,0x20,0x69,0x6E,0x64,
/*0576*/ 0x65,0x78,0x65,0x73,0x20,0x6D,0x6F,0x72,0x65,0x20,0x62,0x69,0x74,0x73,0x20,0x6F,
/*0592*/ 0x66,0x20,0x74,0x68,0x65,0x20,0x63,0x6F,0x64,0x65,0x2E,0x20,0x20,0x6F,0x70,0x20,
/*0608*/ 0x69,0x6E,0x64,0x69,0x63,0x61,0x74,0x65,0x73,0x20,0x77,0x68,0x65,0x74,0x68,0x65,
/*0624*/ 0x72,0x0A,0x20,0x20,0x20,0x74,0x68,0x65,0x20,0x65,0x6E,0x74,0x72,0x79,0x20,0x69,
/*0640*/ 0x73,0x20,0x61,0x20,0x70,0x6F,0x69,0x6E,0x74,0x65,0x72,0x20,0x74,0x6F,0x20,0x61,
/*0656*/ 0x6E,0x6F,0x74,0x68,0x65,0x72,0x20,0x74,0x61,0x62,0x6C,0x65,0x2C,0x20,0x61,0x20,
/*0672*/ 0x6C,0x69,0x74,0x65,0x72,0x61,0x6C,0x2C,0x20,0x61,0x20,0x6C,0x65,0x6E,0x67,0x74,
/*0688*/ 0x68,0x20,0x6F,0x72,0x0A,0x20,0x20,0x20,0x64,0x69,0x73,0x74,0x61,0x6E,0x63,0x65,
/*0704*/ 0x2C,0x20,0x61,0x6E,0x20,0x65,0x6E,0x64,0x2D,0x6F,0x66,0x2D,0x62,0x6C,0x6F,0x63,
/*0720*/ 0x6B,0x2C,0x20,0x6F,0x72,0x20,0x61,0x6E,0x20,0x69,0x6E,0x76,0x61,0x6C,0x69,0x64,
/*0736*/ 0x20,0x63,0x6F,0x64,0x65,0x2E,0x20,0x20,0x46,0x6F,0x72,0x20,0x61,0x20,0x74,0x61,
/*0752*/ 0x62,0x6C,0x65,0x0A,0x20,0x20,0x20,0x70,0x6F,0x69,0x6E,0x74,0x65,0x72,0x2C,0x20,
/*0768*/ 0x74,0x68,0x65,0x20,0x6C,0x6F,0x77,0x20,0x66,0x6F,0x75,0x72,0x20,0x62,0x69,0x74,
/*0784*/ 0x73,0x20,0x6F,0x66,0x20,0x6F,0x70,0x20,0x69,0x73,0x20,0x74,0x68,0x65,0x20,0x6E,
/*0800*/ 0x75,0x6D,0x62,0x65,0x72,0x20,0x6F,0x66,0x20,0x69,0x6E,0x64,0x65,0x78,0x20,0x62,
/*0816*/ 0x69,0x74,0x73,0x20,0x6F,0x66,0x0A,0x20,0x20,0x20,0x74,0x68,0x61,0x74,0x20,0x74,
/*0832*/ 0x61,0x62,0x6C,0x65,0x2E,0x20,0x20,0x46,0x6F,0x72,0x20,0x61,0x20,0x6C,0x65,0x6E,
/*0848*/ 0x67,0x74,0x68,0x20,0x6F,0x72,0x20,0x64,0x69,0x73,0x74,0x61,0x6E,0x63,0x65,0x2C,
/*0864*/ 0x20,0x74,0x68,0x65,0x20,0x6C,0x6F,0x77,0x20,0x66,0x6F,0x75,0x72,0x20,0x62,0x69,
/*0880*/ 0x74,0x73,0x20,0x6F,0x66,0x20,0x6F,0x70,0x0A,0x20,0x20,0x20,0x69,0x73,0x20,0x74,
/*0896*/ 0x68,0x65,0x20,0x6E,0x75,0x6D,0x62,0x65,0x72,0x20,0x6F,0x66,0x20,0x65,0x78,0x74,
/*0912*/ 0x72,0x61,0x20,0x62,0x69,0x74,0x73,0x20,0x74,0x6F,0x20,0x67,0x65,0x74,0x20,0x61,
/*0928*/ 0x66,0x74,0x65,0x72,0x20,0x74,0x68,0x65,0x20,0x63,0x6F,0x64,0x65,0x2E,0x20,0x20,
/*0944*/ 0x62,0x69,0x74,0x73,0x20,0x69,0x73,0x0A,0x20,0x20,0x20,0x74,0x68,0x65,0x20,0x6E,
/*0960*/ 0x75,0x6D,0x62,0x65,0x72,0x20,0x6F,0x66,0x20,0x62,0x69,0x74,0x73,0x20,0x69,0x6E,
/*0976*/ 0x20,0x74,0x68,0x69,0x73,0x20,0x63,0x6F,0x64,0x65,0x20,0x6F,0x72,0x20,0x70,0x61,
/*0992*/ 0x72,0x74,0x20,0x6F,0x66,0x20,0x74,0x68,0x65,0x20,0x63,0x6F,0x64,0x65,0x20,0x74,
/*1008*/ 0x6F,0x20,0x64,0x72,0x6F,0x70,0x20,0x6F,0x66,0x66,0x0A,0x20,0x20,0x20,0x6F,0x66,
/*1024*/ 0x20,0x74,0x68,0x65,0x20,0x62,0x69,0x74,0x20,0x62,0x75,0x66,0x66,0x65,0x72,0x2E,
/*1040*/ 0x20,0x20,0x76,0x61,0x6C,0x20,0x69,0x73,0x20,0x74,0x68,0x65,0x20,0x61,0x63,0x74,
/*1056*/ 0x75,0x61,0x6C,0x20,0x62,0x79,0x74,0x65,0x20,0x74,0x6F,0x20,0x6F,0x75,0x74,0x70,
/*1072*/ 0x75,0x74,0x20,0x69,0x6E,0x20,0x74,0x68,0x65,0x20,0x63,0x61,0x73,0x65,0x0A,0x20,
/*1088*/ 0x20,0x20,0x6F,0x66,0x20,0x61,0x20,0x6C,0x69,0x74,0x65,0x72,0x61,0x6C,0x2C,0x20,
/*1104*/ 0x74,0x68,0x65,0x20,0x62,0x61,0x73,0x65,0x20,0x6C,0x65,0x6E,0x67,0x74,0x68,0x20,
/*1120*/ 0x6F,0x72,0x20,0x64,0x69,0x73,0x74,0x61,0x6E,0x63,0x65,0x2C,0x20,0x6F,0x72,0x20,
/*1136*/ 0x74,0x68,0x65,0x20,0x6F,0x66,0x66,0x73,0x65,0x74,0x20,0x66,0x72,0x6F,0x6D,0x0A,
/*1152*/ 0x20,0x20,0x20,0x74,0x68,0x65,0x20,0x63,0x75,0x72,0x72,0x65,0x6E,0x74,0x20,0x74,
/*1168*/ 0x61,0x62,0x6C,0x65,0x20,0x74,0x6F,0x20,0x74,0x68,0x65,0x20,0x6E,0x65,0x78,0x74,
/*1184*/ 0x20,0x74,0x61,0x62,0x6C,0x65,0x2E,0x20,0x20,0x45,0x61,0x63,0x68,0x20,0x65,0x6E,
/*1200*/ 0x74,0x72,0x79,0x20,0x69,0x73,0x20,0x66,0x6F,0x75,0x72,0x20,0x62,0x79,0x74,0x65,
/*1216*/ 0x73,0x2E,0x20,0x2A,0x2F,0x0A,0x74,0x79,0x70,0x65,0x64,0x65,0x66,0x20,0x73,0x74,
/*1232*/ 0x72,0x75,0x63,0x74,0x20,0x7B,0x0A,0x20,0x20,0x20,0x20,0x75,0x6E,0x73,0x69,0x67,
/*1248*/ 0x6E,0x65,0x64,0x20,0x63,0x68,0x61,0x72,0x20,0x6F,0x70,0x3B,0x20,0x20,0x20,0x20,
/*1264*/ 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x2F,0x2A,0x20,0x6F,0x70,0x65,0x72,0x61,0x74,
/*1280*/ 0x69,0x6F,0x6E,0x2C,0x20,0x65,0x78,0x74,0x72,0x61,0x20,0x62,0x69,0x74,0x73,0x2C,
/*1296*/ 0x20,0x74,0x61,0x62,0x6C,0x65,0x20,0x62,0x69,0x74,0x73,0x20,0x2A,0x2F,0x0A,0x20,
/*1312*/ 0x20,0x20,0x20,0x75,0x6E,0x73,0x69,0x67,0x6E,0x65,0x64,0x20,0x63,0x68,0x61,0x72,
/*1328*/ 0x20,0x62,0x69,0x74,0x73,0x3B,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x2F,
/*1344*/ 0x2A,0x20,0x62,0x69,0x74,0x73,0x20,0x69,0x6E,0x20,0x74,0x68,0x69,0x73,0x20,0x70,
/*1360*/ 0x61,0x72,0x74,0x20,0x6F,0x66,0x20,0x74,0x68,0x65,0x20,0x63,0x6F,0x64,0x65,0x20,
/*1376*/ 0x2A,0x2F,0x0A,0x20,0x20,0x20,0x20,0x75,0x6E,0x73,0x69,0x67,0x6E,0x65,0x64,0x20,
/*1392*/ 0x73,0x68,0x6F,0x72,0x74,0x20,0x76,0x61,0x6C,0x3B,0x20,0x20,0x20,0x20,0x20,0x20,
/*1408*/ 0x20,0x20,0x20,0x2F,0x2A,0x20,0x6F,0x66,0x66,0x73,0x65,0x74,0x20,0x69,0x6E,0x20,
/*1424*/ 0x74,0x61,0x62,0x6C,0x65,0x20,0x6F,0x72,0x20,0x63,0x6F,0x64,0x65,0x20,0x76,0x61,
/*1440*/ 0x6C,0x75,0x65,0x20,0x2A,0x2F,0x0A,0x7D,0x20,0x63,0x6F,0x64,0x65,0x3B,0x0A,0x0A,
/*1456*/ 0x2F,0x2A,0x20,0x6F,0x70,0x20,0x76,0x61,0x6C,0x75,0x65,0x73,0x20,0x61,0x73,0x20,
/*1472*/ 0x73,0x65,0x74,0x20,0x62,0x79,0x20,0x69,0x6E,0x66,0x6C,0x61,0x74,0x65,0x5F,0x74,
/*1488*/ 0x61,0x62,0x6C,0x65,0x28,0x29,0x3A,0x0A,0x20,0x20,0x20,0x20,0x30,0x30,0x30,0x30,
/*1504*/ 0x30,0x30,0x30,0x30,0x20,0x2D,0x20,0x6C,0x69,0x74,0x65,0x72,0x61,0x6C,0x0A,0x20,
/*1520*/ 0x20,0x20,0x20,0x30,0x30,0x30,0x30,0x74,0x74,0x74,0x74,0x20,0x2D,0x20,0x74,0x61,
/*1536*/ 0x62,0x6C,0x65,0x20,0x6C,0x69,0x6E,0x6B,0x2C,0x20,0x74,0x74,0x74,0x74,0x20,0x21,
/*1552*/ 0x3D,0x20,0x30,0x20,0x69,0x73,0x20,0x74,0x68,0x65,0x20,0x6E,0x75,0x6D,0x62,0x65,
/*1568*/ 0x72,0x20,0x6F,0x66,0x20,0x74,0x61,0x62,0x6C,0x65,0x20,0x69,0x6E,0x64,0x65,0x78,
/*1584*/ 0x20,0x62,0x69,0x74,0x73,0x0A,0x20,0x20,0x20,0x20,0x30,0x30,0x30,0x31,0x65,0x65,
/*1600*/ 0x65,0x65,0x20,0x2D,0x20,0x6C,0x65,0x6E,0x67,0x74,0x68,0x20,0x6F,0x72,0x20,0x64,
/*1616*/ 0x69,0x73,0x74,0x61,0x6E,0x63,0x65,0x2C,0x20,0x65,0x65,0x65,0x65,0x20,0x69,0x73,
/*1632*/ 0x20,0x74,0x68,0x65,0x20,0x6E,0x75,0x6D,0x62,0x65,0x72,0x20,0x6F,0x66,0x20,0x65,
/*1648*/ 0x78,0x74,0x72,0x61,0x20,0x62,0x69,0x74,0x73,0x0A,0x20,0x20,0x20,0x20,0x30,0x31,
/*1664*/ 0x31,0x30,0x30,0x30,0x30,0x30,0x20,0x2D,0x20,0x65,0x6E,0x64,0x20,0x6F,0x66,0x20,
/*1680*/ 0x62,0x6C,0x6F,0x63,0x6B,0x0A,0x20,0x20,0x20,0x20,0x30,0x31,0x30,0x30,0x30,0x30,
/*1696*/ 0x30,0x30,0x20,0x2D,0x20,0x69,0x6E,0x76,0x61,0x6C,0x69,0x64,0x20,0x63,0x6F,0x64,
/*1712*/ 0x65,0x0A,0x20,0x2A,0x2F,0x0A,0x0A,0x2F,0x2A,0x20,0x4D,0x61,0x78,0x69,0x6D,0x75,
/*1728*/ 0x6D,0x20,0x73,0x69,0x7A,0x65,0x20,0x6F,0x66,0x20,0x74,0x68,0x65,0x20,0x64,0x79,
/*1744*/ 0x6E,0x61,0x6D,0x69,0x63,0x20,0x74,0x61,0x62,0x6C,0x65,0x2E,0x20,0x20,0x54,0x68,
/*1760*/ 0x65,0x20,0x6D,0x61,0x78,0x69,0x6D,0x75,0x6D,0x20,0x6E,0x75,0x6D,0x62,0x65,0x72,
/*1776*/ 0x20,0x6F,0x66,0x20,0x63,0x6F,0x64,0x65,0x20,0x73,0x74,0x72,0x75,0x63,0x74,0x75,
/*1792*/ 0x72,0x65,0x73,0x20,0x69,0x73,0x0A,0x20,0x20,0x20,0x31,0x34,0x34,0x34,0x2C,0x20,
/*1808*/ 0x77,0x68,0x69,0x63,0x68,0x20,0x69,0x73,0x20,0x74,0x68,0x65,0x20,0x73,0x75,0x6D,
/*1824*/ 0x20,0x6F,0x66,0x20,0x38,0x35,0x32,0x20,0x66,0x6F,0x72,0x20,0x6C,0x69,0x74,0x65,
/*1840*/ 0x72,0x61,0x6C,0x2F,0x6C,0x65,0x6E,0x67,0x74,0x68,0x20,0x63,0x6F,0x64,0x65,0x73,
/*1856*/ 0x20,0x61,0x6E,0x64,0x20,0x35,0x39,0x32,0x20,0x66,0x6F,0x72,0x20,0x64,0x69,0x73,
/*1872*/ 0x74,0x61,0x6E,0x63,0x65,0x0A,0x20,0x20,0x20,0x63,0x6F,0x64,0x65,0x73,0x2E,0x20,
/*1888*/ 0x20,0x54,0x68,0x65,0x73,0x65,0x20,0x76,0x61,0x6C,0x75,0x65,0x73,0x20,0x77,0x65,
/*1904*/ 0x72,0x65,0x20,0x66,0x6F,0x75,0x6E,0x64,0x20,0x62,0x79,0x20,0x65,0x78,0x68,0x61,
/*1920*/ 0x75,0x73,0x74,0x69,0x76,0x65,0x20,0x73,0x65,0x61,0x72,0x63,0x68,0x65,0x73,0x20,
/*1936*/ 0x75,0x73,0x69,0x6E,0x67,0x20,0x74,0x68,0x65,0x20,0x70,0x72,0x6F,0x67,0x72,0x61,
/*1952*/ 0x6D,0x0A,0x20,0x20,0x20,0x65,0x78,0x61,0x6D,0x70,0x6C,0x65,0x73,0x2F,0x65,0x6E,
/*1968*/ 0x6F,0x75,0x67,0x68,0x2E,0x63,0x20,0x66,0x6F,0x75,0x6E,0x64,0x20,0x69,0x6E,0x20,
/*1984*/ 0x74,0x68,0x65,0x20,0x7A,0x6C,0x69,0x62,0x20,0x64,0x69,0x73,0x74,0x72,0x69,0x62,
/*2000*/ 0x74,0x75,0x74,0x69,0x6F,0x6E,0x2E,0x20,0x20,0x54,0x68,0x65,0x20,0x61,0x72,0x67,
/*2016*/ 0x75,0x6D,0x65,0x6E,0x74,0x73,0x20,0x74,0x6F,0x20,0x74,0x68,0x61,0x74,0x0A,0x20,
/*2032*/ 0x20,0x20,0x70,0x72,0x6F,0x67,0x72,0x61,0x6D,0x20,0x61,0x72,0x65,0x20,0x74,0x68,
/*2048*/ 0x65,0x20,0x6E,0x75,0x6D,0x62,0x65,0x72,0x20,0x6F,0x66,0x20,0x73,0x79,0x6D,0x62,
/*2064*/ 0x6F,0x6C,0x73,0x2C,0x20,0x74,0x68,0x65,0x20,0x69,0x6E,0x69,0x74,0x69,0x61,0x6C,
/*2080*/ 0x20,0x72,0x6F,0x6F,0x74,0x20,0x74,0x61,0x62,0x6C,0x65,0x20,0x73,0x69,0x7A,0x65,
/*2096*/ 0x2C,0x20,0x61,0x6E,0x64,0x20,0x74,0x68,0x65,0x0A,0x20,0x20,0x20,0x6D,0x61,0x78,
/*2112*/ 0x69,0x6D,0x75,0x6D,0x20,0x62,0x69,0x74,0x20,0x6C,0x65,0x6E,0x67,0x74,0x68,0x20,
/*2128*/ 0x6F,0x66,0x20,0x61,0x20,0x63,0x6F,0x64,0x65,0x2E,0x20,0x20,0x22,0x65,0x6E,0x6F,
/*2144*/ 0x75,0x67,0x68,0x20,0x32,0x38,0x36,0x20,0x39,0x20,0x31,0x35,0x22,0x20,0x66,0x6F,
/*2160*/ 0x72,0x20,0x6C,0x69,0x74,0x65,0x72,0x61,0x6C,0x2F,0x6C,0x65,0x6E,0x67,0x74,0x68,
/*2176*/ 0x20,0x63,0x6F,0x64,0x65,0x73,0x0A,0x20,0x20,0x20,0x72,0x65,0x74,0x75,0x72,0x6E,
/*2192*/ 0x73,0x20,0x72,0x65,0x74,0x75,0x72,0x6E,0x73,0x20,0x38,0x35,0x32,0x2C,0x20,0x61,
/*2208*/ 0x6E,0x64,0x20,0x22,0x65,0x6E,0x6F,0x75,0x67,0x68,0x20,0x33,0x30,0x20,0x36,0x20,
/*2224*/ 0x31,0x35,0x22,0x20,0x66,0x6F,0x72,0x20,0x64,0x69,0x73,0x74,0x61,0x6E,0x63,0x65,
/*2240*/ 0x20,0x63,0x6F,0x64,0x65,0x73,0x20,0x72,0x65,0x74,0x75,0x72,0x6E,0x73,0x20,0x35,
/*2256*/ 0x39,0x32,0x2E,0x0A,0x20,0x20,0x20,0x54,0x68,0x65,0x20,0x69,0x6E,0x69,0x74,0x69,
/*2272*/ 0x61,0x6C,0x20,0x72,0x6F,0x6F,0x74,0x20,0x74,0x61,0x62,0x6C,0x65,0x20,0x73,0x69,
/*2288*/ 0x7A,0x65,0x20,0x28,0x39,0x20,0x6F,0x72,0x20,0x36,0x29,0x20,0x69,0x73,0x20,0x66,
/*2304*/ 0x6F,0x75,0x6E,0x64,0x20,0x69,0x6E,0x20,0x74,0x68,0x65,0x20,0x66,0x69,0x66,0x74,
/*2320*/ 0x68,0x20,0x61,0x72,0x67,0x75,0x6D,0x65,0x6E,0x74,0x20,0x6F,0x66,0x20,0x74,0x68,
/*2336*/ 0x65,0x0A,0x20,0x20,0x20,0x69,0x6E,0x66,0x6C,0x61,0x74,0x65,0x5F,0x74,0x61,0x62,
/*2352*/ 0x6C,0x65,0x28,0x29,0x20,0x63,0x61,0x6C,0x6C,0x73,0x20,0x69,0x6E,0x20,0x69,0x6E,
/*2368*/ 0x66,0x6C,0x61,0x74,0x65,0x2E,0x63,0x20,0x61,0x6E,0x64,0x20,0x69,0x6E,0x66,0x62,
/*2384*/ 0x61,0x63,0x6B,0x2E,0x63,0x2E,0x20,0x20,0x49,0x66,0x20,0x74,0x68,0x65,0x20,0x72,
/*2400*/ 0x6F,0x6F,0x74,0x20,0x74,0x61,0x62,0x6C,0x65,0x20,0x73,0x69,0x7A,0x65,0x20,0x69,
/*2416*/ 0x73,0x0A,0x20,0x20,0x20,0x63,0x68,0x61,0x6E,0x67,0x65,0x64,0x2C,0x20,0x74,0x68,
/*2432*/ 0x65,0x6E,0x20,0x74,0x68,0x65,0x73,0x65,0x20,0x6D,0x61,0x78,0x69,0x6D,0x75,0x6D,
/*2448*/ 0x20,0x73,0x69,0x7A,0x65,0x73,0x20,0x77,0x6F,0x75,0x6C,0x64,0x20,0x62,0x65,0x20,
/*2464*/ 0x6E,0x65,0x65,0x64,0x20,0x74,0x6F,0x20,0x62,0x65,0x20,0x72,0x65,0x63,0x61,0x6C,
/*2480*/ 0x63,0x75,0x6C,0x61,0x74,0x65,0x64,0x20,0x61,0x6E,0x64,0x0A,0x20,0x20,0x20,0x75,
/*2496*/ 0x70,0x64,0x61,0x74,0x65,0x64,0x2E,0x20,0x2A,0x2F,0x0A,0x23,0x64,0x65,0x66,0x69,
/*2512*/ 0x6E,0x65,0x20,0x45,0x4E,0x4F,0x55,0x47,0x48,0x5F,0x4C,0x45,0x4E,0x53,0x20,0x38,
/*2528*/ 0x35,0x32,0x0A,0x23,0x64,0x65,0x66,0x69,0x6E,0x65,0x20,0x45,0x4E,0x4F,0x55,0x47,
/*2544*/ 0x48,0x5F,0x44,0x49,0x53,0x54,0x53,0x20,0x35,0x39,0x32,0x0A,0x23,0x64,0x65,0x66,
/*2560*/ 0x69,0x6E,0x65,0x20,0x45,0x4E,0x4F,0x55,0x47,0x48,0x20,0x28,0x45,0x4E,0x4F,0x55,
/*2576*/ 0x47,0x48,0x5F,0x4C,0x45,0x4E,0x53,0x2B,0x45,0x4E,0x4F,0x55,0x47,0x48,0x5F,0x44,
/*2592*/ 0x49,0x53,0x54,0x53,0x29,0x0A,0x0A,0x2F,0x2A,0x20,0x54,0x79,0x70,0x65,0x20,0x6F,
/*2608*/ 0x66,0x20,0x63,0x6F,0x64,0x65,0x20,0x74,0x6F,0x20,0x62,0x75,0x69,0x6C,0x64,0x20,
/*2624*/ 0x66,0x6F,0x72,0x20,0x69,0x6E,0x66,0x6C,0x61,0x74,0x65,0x5F,0x74,0x61,0x62,0x6C,
/*2640*/ 0x65,0x28,0x29,0x20,0x2A,0x2F,0x0A,0x74,0x79,0x70,0x65,0x64,0x65,0x66,0x20,0x65,
/*2656*/ 0x6E,0x75,0x6D,0x20,0x7B,0x0A,0x20,0x20,0x20,0x20,0x43,0x4F,0x44,0x45,0x53,0x2C,
/*2672*/ 0x0A,0x20,0x20,0x20,0x20,0x4C,0x45,0x4E,0x53,0x2C,0x0A,0x20,0x20,0x20,0x20,0x44,
/*2688*/ 0x49,0x53,0x54,0x53,0x0A,0x7D,0x20,0x63,0x6F,0x64,0x65,0x74,0x79,0x70,0x65,0x3B,
/*2704*/ 0x0A,0x0A,0x69,0x6E,0x74,0x20,0x5A,0x4C,0x49,0x42,0x5F,0x49,0x4E,0x54,0x45,0x52,
/*2720*/ 0x4E,0x41,0x4C,0x20,0x69,0x6E,0x66,0x6C,0x61,0x74,0x65,0x5F,0x74,0x61,0x62,0x6C,
/*2736*/ 0x65,0x20,0x4F,0x46,0x28,0x28,0x63,0x6F,0x64,0x65,0x74,0x79,0x70,0x65,0x20,0x74,
/*2752*/ 0x79,0x70,0x65,0x2C,0x20,0x75,0x6E,0x73,0x69,0x67,0x6E,0x65,0x64,0x20,0x73,0x68,
/*2768*/ 0x6F,0x72,0x74,0x20,0x5A,0x46,0x41,0x52,0x20,0x2A,0x6C,0x65,0x6E,0x73,0x2C,0x0A,
/*2784*/ 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
/*2800*/ 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x75,0x6E,0x73,
/*2816*/ 0x69,0x67,0x6E,0x65,0x64,0x20,0x63,0x6F,0x64,0x65,0x73,0x2C,0x20,0x63,0x6F,0x64,
/*2832*/ 0x65,0x20,0x5A,0x46,0x41,0x52,0x20,0x2A,0x20,0x5A,0x46,0x41,0x52,0x20,0x2A,0x74,
/*2848*/ 0x61,0x62,0x6C,0x65,0x2C,0x0A,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
/*2864*/ 0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,
/*2880*/ 0x20,0x20,0x20,0x75,0x6E,0x73,0x69,0x67,0x6E,0x65,0x64,0x20,0x5A,0x46,0x41,0x52,
/*2896*/ 0x20,0x2A,0x62,0x69,0x74,0x73,0x2C,0x20,0x75,0x6E,0x73,0x69,0x67,0x6E,0x65,0x64,
/*2912*/ 0x20,0x73,0x68,0x6F,0x72,0x74,0x20,0x5A,0x46,0x41,0x52,0x20,0x2A,0x77,0x6F,0x72,
/*2928*/ 0x6B,0x29,0x29,0x3B,0x0A
};

void test_inflate_data(uncompr, uncomprLen)
    uLong uncomprLen;
    Byte *uncompr;
{
    unsigned int dsz;
    z_stream z;
    int err;

    memset(&z,0,sizeof(z));
    z.next_in = (unsigned char*)inft1_zlib;
    z.avail_in = sizeof(inft1_zlib);
    z.next_out = uncompr;
    z.avail_out = uncomprLen;
    if ((err=inflateInit(&z)) != Z_OK) {
        fprintf(stderr,"inflateInit error %d\n",err);
        exit(1);
    }

    if ((err=inflate(&z,Z_FINISH)) != Z_STREAM_END) {
        fprintf(stderr,"inflate error %d\n",err);
        exit(1);
    }

    if ((err=inflateEnd(&z)) != Z_OK) {
        fprintf(stderr,"inflateEnd error %d\n",err);
        exit(1);
    }

    if (z.avail_in != 0 || z.total_in != sizeof(inft1_zlib) || z.total_out == 0) {
        fprintf(stderr,"inflate did not process all data\n");
        exit(1);
    }

    dsz = (unsigned int)z.total_out;
    if (dsz != sizeof(inft1_orig)) {
        fprintf(stderr,"inflate output unexpected length\n");
        exit(1);
    }
    if (memcmp(inft1_orig,uncompr,dsz)) {
        fprintf(stderr,"inflate output did not match expected data\n");
        exit(1);
    }

    printf("inflate test OK\n");
}

void test_crcs() {
    unsigned int i;
    uint32_t c,a;

    for (i=0;chktest[i].txt;i++) {
        a = adler32(0,NULL,0);
        c = crc32(0,NULL,0);

        if (a != chktest[i].adler32_init) {
            fprintf(stderr,"adler32 check fail i=%u msg=%s expect=0x%08lx got=0x%08lx\n",
                i,(const unsigned char*)chktest[i].txt,(unsigned long)chktest[i].adler32_init,(unsigned long)a);
        }
        if (c != chktest[i].crc32_init) {
            fprintf(stderr,"crc32 check fail i=%u msg=%s expect=0x%08lx got=0x%08lx\n",
                i,(const unsigned char*)chktest[i].txt,(unsigned long)chktest[i].crc32_init,(unsigned long)c);
        }

        if (chktest[i].len) {
            a = adler32(a,(const unsigned char*)chktest[i].txt,chktest[i].len);
            c = crc32(c,(const unsigned char*)chktest[i].txt,chktest[i].len);
        }

        if (a != chktest[i].adler32_final) {
            fprintf(stderr,"adler32 check2 fail i=%u msg=%s expect=0x%08lx got=0x%08lx\n",
                i,(const unsigned char*)chktest[i].txt,(unsigned long)chktest[i].adler32_final,(unsigned long)a);
        }
        if (c != chktest[i].crc32_final) {
            fprintf(stderr,"crc32 check2 fail i=%u msg=%s expect=0x%08lx got=0x%08lx\n",
                i,(const unsigned char*)chktest[i].txt,(unsigned long)chktest[i].crc32_final,(unsigned long)c);
        }
    }
}

/* ===========================================================================
 * Usage:  example [output.gz  [input.gz]]
 */

#if defined(_WINDOWS) || defined(WIN32) || defined(WIN386)
int PASCAL WinMain(HINSTANCE hInstance,HINSTANCE hPrevInstance,LPSTR lpCmdLine,int nCmdShow) {
#else
int main(argc, argv)
    int argc;
    char *argv[];
{
#endif
    Byte *compr, *uncompr;
    uLong comprLen = 10000*sizeof(int); /* don't overflow on MSDOS */
    uLong uncomprLen = comprLen;

#if defined(_WINDOWS) || defined(WIN32) || defined(WIN386)
// NTS: There is this weird bug with Windows real mode and Open Watcom where, seemingly based on random
//      criteria, the compiled EXE is loaded and executed by Windows with an incorrect DS data segment value.
//      The value is offset by some small value like 10, 17, or 36. Of course doing that throws off all
//      pointers in the EXE and of course that is a GREAT way to corrupt your own data segment, possibly
//      adjacent memory, and cause a crash.
//
//      So, if the MessageBox() call below shows nothing or gibberish, that bug has triggered again.
    LockSegment(-1); // the ZLIB interface expects pointers not to change around so we need to lock our data segment
    MessageBox(NULL,"TEST START","ZLIB EXAMPLE",MB_OK); // If this text is displayed as gibberish, the bug is happening again
#endif

#if defined(_WINDOWS) || defined(WIN32) || defined(WIN386)
    (void)hInstance;
    (void)hPrevInstance;
    (void)lpCmdLine;
    (void)nCmdShow;
#else
    (void)argv;
    (void)argc;
#endif

    {
        /* NTS: myVersion was once "static const char*" but in real-mode Windows, after LockSegment() or
         *      when Windows moves unlocked memory around, that static const char pointer no longer points
         *      to the string you think it does. As const char, it is initialized HERE after LockSegment()
         *      and guaranteed to point to the ZLIB_VERSION string you expect. This fixes false
         *      "incompatible zlib version" errors. */
        const char* myVersion = ZLIB_VERSION;
        if (zlibVersion()[0] != myVersion[0]) {
            fprintf(stderr, "incompatible zlib version\n");
            fprintf(stderr,"%s != %s != %s",zlibVersion(),myVersion,ZLIB_VERSION);
            exit(1);
        } else if (strcmp(zlibVersion(), ZLIB_VERSION) != 0) {
            fprintf(stderr, "warning: different zlib version\n");
        }
    }

    printf("zlib version %s = 0x%04x, compile flags = 0x%lx\n",
            ZLIB_VERSION, ZLIB_VERNUM, zlibCompileFlags());

    compr    = (Byte*)calloc((uInt)comprLen, 1);
    uncompr  = (Byte*)calloc((uInt)uncomprLen, 1);
    /* compr and uncompr are cleared to avoid reading uninitialized
     * data and to ensure that uncompr compresses well.
     */
    if (compr == Z_NULL || uncompr == Z_NULL) {
        printf("out of memory\n");
        exit(1);
    }

    test_crcs();
    test_inflate_data(uncompr, uncomprLen);

    comprLen = uncomprLen;

    free(compr);
    free(uncompr);

#if defined(_WINDOWS) || defined(WIN32) || defined(WIN386)
    MessageBox(NULL,"TEST COMPLETED","ZLIB EXAMPLE",MB_OK); // If this text is displayed as gibberish, the bug is happening again
#endif

    return 0;
}
